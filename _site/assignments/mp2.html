<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1"><!-- Begin Jekyll SEO tag v2.5.0 -->
<title>MP2: Geometric Transformations / Perception | CS 418 Interactive Computer Graphics</title>
<meta name="generator" content="Jekyll v3.7.4" />
<meta property="og:title" content="MP2: Geometric Transformations / Perception" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="MP2.1" />
<meta property="og:description" content="MP2.1" />
<link rel="canonical" href="http://localhost:4000/assignments/mp2.html" />
<meta property="og:url" content="http://localhost:4000/assignments/mp2.html" />
<meta property="og:site_name" content="CS 418 Interactive Computer Graphics" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2019-08-23T17:12:28-05:00" />
<script type="application/ld+json">
{"description":"MP2.1","@type":"BlogPosting","url":"http://localhost:4000/assignments/mp2.html","headline":"MP2: Geometric Transformations / Perception","dateModified":"2019-08-23T17:12:28-05:00","datePublished":"2019-08-23T17:12:28-05:00","mainEntityOfPage":{"@type":"WebPage","@id":"http://localhost:4000/assignments/mp2.html"},"@context":"http://schema.org"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/assets/main.css"><link type="application/atom+xml" rel="alternate" href="http://localhost:4000/feed.xml" title="CS 418 Interactive Computer Graphics" /></head>
<body><header class="site-header" role="banner">

  <div class="wrapper"><a class="site-title" rel="author" href="/">CS 418 Interactive Computer Graphics</a><nav class="site-nav">
        <input type="checkbox" id="nav-trigger" class="nav-trigger" />
        <label for="nav-trigger">
          <span class="menu-icon">
            <svg viewBox="0 0 18 15" width="18px" height="15px">
              <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z"/>
            </svg>
          </span>
        </label>

        <div class="trigger"><a class="page-link" href="/assignments">Assignments</a><a class="page-link" href="/calendar">Course Calendar</a><a class="page-link" href="/officehours.html">Office Hours</a></div>
      </nav></div>
</header>
<main class="page-content" aria-label="Content">
      <div class="wrapper">
        <article class="post">

  
  <header class="post-header">
    <h1 class="post-title">MP2: Geometric Transformations / Perception</h1>
  </header>
  

  <div class="post-content assignment">
    <script src='https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-MML-AM_CHTML' defer></script>


	<h4>Due Dates:</h4>
	
		MP2.1: <strong>Feb. 11, 2019 @ 11:59 PM</strong><br>
	
		MP2.2: <strong>Feb. 18, 2019 @ 11:59 PM</strong><br>
	


<hr>


	<h4>Provided Material:</h4>
	<ul>
	
	<li><a href="/mps/MP2.1.unitypackage">MP2.1 Unity package</a></li>
	
	<li><a href="/mps/MP2_package.unitypackage">MP2.2 Unity Package</a></li>
	
	</ul>
	<hr>



	<h2>Important Notes</h2>
	
	<ol>
  <li>Read the submission instructions carefully!
If you are missing some files, but we can still grade, you will lose 20%.
If we cannot grade your work due to missing files, you will receive no credit.</li>
  <li><a href="https://google.com">Google</a>,
the <a href="https://docs.unity3d.com/Manual/index.html">Unity Documentation</a>,
the <a href="https://wiki.unity3d.com/index.php/Main_Page">Unity Wiki</a>,
and the <a href="https://forum.unity.com/">Unity Forums</a>
are excellent sources of information, 
especially as you start to use more advanced features of Unity.</li>
  <li>To earn extra credit, you must submit with a partner.
Use the Piazza teammate search function to help find one,
or chat up your neighbors in lecture.</li>
  <li>Save your project onto the <code class="highlighter-rouge">U:</code> drive, which is your EWS storage, and available across all of the computers in the lab.
If you save to the <code class="highlighter-rouge">C:</code> drive, your project will only exist on that single computer.</li>
  <li>If you use your own machine, make sure you use the version of Unity installed on all of the lab machines to avoid 
compatibility issues. The lab machines currently use version 2018.2.14, which can be found in the 
<a href="https://unity3d.com/get-unity/download/archive">Unity Downloads Archive</a></li>
</ol>

	<hr>


<div class="toc">
<h3 id="toc">Table of Contents</h3>

<ul>
  <li><a href="#mp21">MP2.1</a>
    <ul>
      <li><a href="#vr-mirror">VR Mirror</a></li>
      <li><a href="#geometric-transformations">Geometric Transformations</a></li>
    </ul>
  </li>
  <li><a href="#mp22">MP2.2</a>
    <ul>
      <li><a href="#depth-perception-and-relative-size">Depth Perception and Relative Size</a></li>
      <li><a href="#disabling-tracking">Disabling Tracking</a></li>
    </ul>
  </li>
</ul>
</div>

<hr>

<div class="mp-content">
	<h2 id="mp21">MP2.1</h2>

<h3 id="vr-mirror">VR Mirror</h3>

<p>This part of the MP will teach you how to manipulate a <code class="highlighter-rouge">GameObject</code>’s rotation and position.</p>

<p>You must modify the provided scene, so that the listed keys behave as follows:</p>

<ul>
  <li>Pressing <code class="highlighter-rouge">Tab</code> must reset the camera position in <em>global</em> coordinates to (0, 0, 0).</li>
  <li>Pressing <code class="highlighter-rouge">F</code> must flip the user’s view 180 degrees, so that they are looking in the reverse direction.</li>
  <li>Pressing <code class="highlighter-rouge">M</code> must make a certain cube either mirror or follow the user’s movements.</li>
  <li>Pressing <code class="highlighter-rouge">Esc</code> must quit the game.</li>
</ul>

<p>Write a script named <code class="highlighter-rouge">CameraReset</code> that moves the main camera’s position in <em>global</em> coordinates to (0, 0, 0) whenever you press <code class="highlighter-rouge">Tab</code>.
Pressing <code class="highlighter-rouge">Tab</code> multiple times must move the camera back to the origin each time, regardless of where the player moves their head between presses.
Note/hint: the Oculus software controls the camera’s <em>local</em> coordinates. Thus, <em>global</em> refers to the sum of the coordinates of the main camera and its parents.</p>

<p>Write a script named <code class="highlighter-rouge">CameraFlipper</code> that flips the <code class="highlighter-rouge">MainCamera</code> 180 degrees when you press <code class="highlighter-rouge">F</code>, as if you were turning around to look behind you.
After flipping the first time, you will be facing a transparent window with a floating cube face on the other side.
Pressing <code class="highlighter-rouge">F</code> multiple times must cause a 180-degree flip for each press.</p>

<p>The <code class="highlighter-rouge">CameraReset</code> and <code class="highlighter-rouge">CameraFlipper</code> scripts must be independent of each other, and the behavior of one must not interfere with the other. Specifically, <code class="highlighter-rouge">CameraFlipper</code> must not change the user’s global position.</p>

<p>Write a script <code class="highlighter-rouge">VRMirror</code> to modify the position and rotation of the cube face to match or mirror your own.
Pressing <code class="highlighter-rouge">M</code> must alternate between matching and mirroring.
We don’t care what happens before we press <code class="highlighter-rouge">M</code> for the first time.</p>

<p>In match mode, the cube must be looking in the same direction as the camera.
If the user faces the mirror directly, they should see the back of the cube’s head,
and when the user brings their face closer to the mirror, the cube should move in the same direction, which for the cube is away from the mirror.</p>

<p>In mirror mode, when you face the window, the cube must face the camera, and as a result, the user should see the cube’s face.
If you bring your face close to the screen, the cube will necessarily move closer to the screen as well.
Imagine looking into a mirror to get an intuition of this.</p>

<h3 id="geometric-transformations">Geometric Transformations</h3>

<p>This part of the MP will reinforce the mathematical notion of geometric transforms.</p>

<p>Complete the following written problems. You must show your work and submit your answers as a PDF. We recommend using LaTeX to typeset your mathematics.</p>

<p>The problems are as follows:</p>

<ol>
  <li>
    <p>In one sentence, explain what the following homogeneous transformation accomplishes when applied to a point
<script type="math/tex">(x, y, z)</script>,
in terms of yaw, pitch, roll, and translation.<br />
<script type="math/tex">% <![CDATA[
T_1 =
\begin{bmatrix}
 {1 \over \sqrt{2}} & -{1 \over \sqrt{2}} & 0 & 4 \\
 {1 \over \sqrt{2}} & {1 \over \sqrt{2}} & 0 & 9 \\
 0 & 0 & 1 & 8 \\
 0 & 0 & 0 & 1
\end{bmatrix}
\begin{bmatrix}
 x \\ y \\ z \\ 1
\end{bmatrix} %]]></script></p>
  </li>
  <li>
    <p>Write out the <script type="math/tex">4 \times 4</script> matrix homogeneous transformation <script type="math/tex">T_2</script>, that,
when applied to a point <script type="math/tex">(x, y, z)</script>, translates the point by <script type="math/tex">(1,9,6)</script>,
followed by a pitch of 60 degrees.
Your answer need not be simplified, and may be represented as a single matrix or the product of two or more matrices.</p>
  </li>
  <li>
    <p>We would like to reverse the transformation applied by <script type="math/tex">T_2 T_1</script>. Write out <script type="math/tex">\left(T_2 T_1\right)^{-1}</script>. 
Your answer need not be simplified, and may be represented as a single matrix or the product of two or more matrices.</p>
  </li>
  <li>
    <p>Write out the quaternions equivalent to the rotations in <script type="math/tex">T_1</script> and <script type="math/tex">T_2</script> as <script type="math/tex">q_1</script> and <script type="math/tex">q_2</script>.</p>
  </li>
  <li>
    <p>Calculate the product of <script type="math/tex">q_1</script> and <script type="math/tex">q_2</script>, i.e. <script type="math/tex">q_1 \circ q_2</script>.</p>
  </li>
</ol>

<hr />

<h2 id="mp22">MP2.2</h2>

<h3 id="depth-perception-and-relative-size">Depth Perception and Relative Size</h3>

<p>In the provided scene, the <code class="highlighter-rouge">StimulusManager</code> object has three spherical children.
Put the red sphere at position <code class="highlighter-rouge">( 0, 0, -2.3)</code> and the two blue spheres at positions <code class="highlighter-rouge">(0.7, 0, -1.6)</code>, <code class="highlighter-rouge">(-0.8, 0, -1)</code>, respectively.</p>

<p>Create a script called <code class="highlighter-rouge">GenerateStimuli</code> that dynamically changes the sizes of the two blue spheres so that
no matter what the position and orientation of the camera are,
the blue spheres always “appear” to be at the same depth as the red sphere with respect to their retinal image sizes (reference: <a href="http://vr.cs.uiuc.edu/vrch6.pdf">sec. 6.1.1</a>).
That is, we ask you to vary the sizes of the blue spheres
so that the <em>rendered</em> images of all of the three spheres have equal diameters when viewed on the Oculus Rift display.</p>

<table>
  <thead>
    <tr>
      <th><a href="/img/assignments/mp2/depth-percept-before.png">Before</a></th>
      <th><a href="/img/assignments/mp2/depth-percept-after.png">After</a></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><img src="/img/assignments/mp2/depth-percept-before.png" alt="MP2 before" class="img-responsive" style="display:block; margin:auto" /></td>
      <td><img src="/img/assignments/mp2/depth-percept-after.png" alt="MP2 after" class="img-responsive" style="display:block; margin:auto" /></td>
    </tr>
  </tbody>
</table>

<p>You are only allowed to change the sizes of the blue spheres to complete this task. 
You must not change the positions of the three spheres, nor the size of the red sphere.</p>

<p>Other tasks that need to be completed in this part:</p>

<ul>
  <li>Pressing <code class="highlighter-rouge">S</code> must make the spheres appear or disappear.
    <ul>
      <li>The red sphere must [dis]appear immediately after the user presses the S key.</li>
      <li>The two blue spheres must should [dis]appear exactly two seconds after the red sphere [dis]appears.</li>
    </ul>
  </li>
  <li>You can assume that the user will not press <code class="highlighter-rouge">S</code> again within the two seconds.</li>
  <li>The spheres should initially be invisible.</li>
  <li>The <code class="highlighter-rouge">GenerateStimuli</code> script should permanently activate when the user presses the S key for the first time.</li>
</ul>

<p>Even after you complete this exercise, you will still easily infer the relative depth between the three spheres,
because there are many depth cues other than retinal image size that help you perceive depth accurately.
Therefore, this exercise will not create an illusion of the spheres being placed at equal distances from your eyes.
You will learn more about optical illusions and depth perception later in class.</p>

<h3 id="disabling-tracking">Disabling Tracking</h3>

<p>The Oculus software automatically sets the camera’s <code class="highlighter-rouge">Transform</code> based on the headset’s position and rotation tracking.
In this task, you must counteract that tracking, i.e. the net effect is as though tracking was disabled.
This should help you understand how much tracking contributes towards a feeling of presence in VR.</p>

<p>Create a script named <code class="highlighter-rouge">ToggleTracking</code> that turns tracking on and off.
Pressing <code class="highlighter-rouge">P</code> and <code class="highlighter-rouge">R</code> must toggle <strong>p</strong>osition and <strong>r</strong>otation tracking, respectively.
Note that simultaneously disabling rotation and position tracking counts as extra credit.
If you attempt this, make a note in your README file.</p>

<p>A bad solution is to put all <code class="highlighter-rouge">GameObject</code>s as children of the camera.
This depends on the hierarchy structure of Unity and causes performance issues, so we will not accept it.
We want you to think about how to counteract the effects of position and rotation tracking using transformations.</p>


</div>


	<hr>
	<h2>Submission Instructions</h2>
	
	<h3 id="step-1-create-a-unity-package-file">Step 1: Create a Unity package file</h3>

<ol>
  <li>Save your Unity scene in the Assets folder with a descriptive title.</li>
  <li>Using the editor, find the created scene in the Project menu</li>
  <li>Right click on the scene and select “Export Package…”</li>
  <li>Export the file using default settings. Make sure that “Include dependencies” is enabled.</li>
  <li>This will create a <code class="highlighter-rouge">.unitypackage</code> file. We may use this during grading if your executable does not work, so make sure you also submit the data folder.</li>
</ol>

<h3 id="step-2-create-a-standalone-build">Step 2: Create a standalone build</h3>

<ol>
  <li>Save the project to <code class="highlighter-rouge">C:\Users\&lt;your netid&gt;\&lt;project name&gt;</code> temporarily, rather than the EWS <code class="highlighter-rouge">U:</code> drive. Local storage is faster when building.</li>
  <li>Go to <em>Edit → Project Settings → Player</em>. Make sure the “Virtual Reality Supported” box under XR Settings is checked.</li>
  <li>Go to <em>File → Build Settings</em>.</li>
  <li>Open the scene with your work for the MP.</li>
  <li>Click “Add Open Scenes”. You must have saved the scene to the assets folder for this to work.</li>
  <li>Click “Build”.</li>
  <li>This will create an executable (<code class="highlighter-rouge">.exe</code>) for running the build, a folder containing your scene data, a “Mono” folder, and <code class="highlighter-rouge">UnityPlayer.dll</code>.</li>
</ol>

<h3 id="step-3-copy-the-input-manager-file">Step 3: Copy the Input Manager file</h3>

<ol>
  <li>Shut down your project.</li>
  <li>In your project folder, navigate to the <code class="highlighter-rouge">ProjectSettings</code> subfolder.</li>
  <li>Find the <code class="highlighter-rouge">InputManager.asset</code> file, and copy it to your submission folder. This will allow us to
replicate any new gamepad buttons or joysticks you mapped.</li>
</ol>

<h3 id="step-4-zip-the-files-and-submit-through-compass">Step 4: Zip the files and submit through Compass</h3>

<ol>
  <li>Create a zip file containing the following items:
    <ul>
      <li>The <code class="highlighter-rouge">.unitypackage</code> created in Step 1</li>
      <li>The <code class="highlighter-rouge">.exe</code>, <code class="highlighter-rouge">.dll</code>, <code class="highlighter-rouge">Mono</code>, AND <strong>DATA FOLDER</strong> created in Step 2</li>
      <li>The <code class="highlighter-rouge">InputManager.asset</code> file found in Step 3</li>
      <li>A <code class="highlighter-rouge">README.txt</code> file containing any special instructions or notes you think are relevant for evaluating your assignment.</li>
      <li>If applicable, your writeup PDF.</li>
    </ul>
  </li>
  <li><strong>Make sure the executable in your submission folder runs correctly on the Rift before submitting.</strong></li>
  <li>Name the file by separating NetIDs with underscores- <code class="highlighter-rouge">_cs498vr_MP#_part#.zip</code>.
EXAMPLE: If <code class="highlighter-rouge">steve1</code> and <code class="highlighter-rouge">anna2</code> worked together, the file for MP 1.1 should be called
<code class="highlighter-rouge">steve1_anna2_cs498vr_MP1_1.zip</code>.</li>
  <li>Only one partner should submit the zip.</li>
</ol>

<h3 id="do-not-submit-your-entire-project-folder">DO NOT SUBMIT YOUR ENTIRE PROJECT FOLDER</h3>




	<hr>
	<table id="rubric">
	<thead><tr>
		<th>Name</th>
		<th>Points</th>
		<th>Description</th>
	</tr></thead>
	
	<tbody>
	
	<tr>
		<td>
			View Flipping
		</td>
		<td>
			10
			
		</td>
		<td>
			Flipping the camera works properly and preserves the user's global position.
		</td>
	</tr>
	
	<tr>
		<td>
			Position Reset
		</td>
		<td>
			10
			
		</td>
		<td>
			The position reset functionality works properly.
		</td>
	</tr>
	
	<tr>
		<td>
			Cube Match Mode
		</td>
		<td>
			20
			
		</td>
		<td>
			The cube correctly matches the user's movements.
		</td>
	</tr>
	
	<tr>
		<td>
			Cube Mirror Mode
		</td>
		<td>
			20
			
		</td>
		<td>
			The cube correctly mirrors the user's movements.
		</td>
	</tr>
	
	<tr>
		<td>
			Cube Mode Toggle
		</td>
		<td>
			10
			
		</td>
		<td>
			The cube switches between mirror and match modes correctly.
		</td>
	</tr>
	
	<tr>
		<td>
			Geometric Transformations
		</td>
		<td>
			40
			
		</td>
		<td>
			The answers to the written problems are correct.
		</td>
	</tr>
	
	<tr>
		<td>
			Position Tracking
		</td>
		<td>
			10
			
		</td>
		<td>
			Toggling position tracking works correctly, and does not cause discontinuities.
		</td>
	</tr>
	
	<tr>
		<td>
			Rotation Tracking
		</td>
		<td>
			40
			
		</td>
		<td>
			Toggling rotation tracking works correctly, regardless of where we are looking.
		</td>
	</tr>
	
	<tr>
		<td>
			Depth Perception Trick
		</td>
		<td>
			20
			
		</td>
		<td>
			The spheres appear to be of equal size while the script is active,
regardless of where the user is in the room.

		</td>
	</tr>
	
	<tr>
		<td>
			Depth Perception Script
		</td>
		<td>
			20
			
		</td>
		<td>
			The spheres appear in the correct order, and the script works when run repeatedly.
		</td>
	</tr>
	
	</tbody>
	
	<tfoot style='background-color:#ddd;'>
	<tr>
		<td>Total</td>
		<td>200</td>
		<td></td>
	</tr>
	</tfoot>
	
	</table>
	
	
	


  </div>

</article>

      </div>
    </main><div class="fool-modal-wrapper">
      
	<div class="fool-modal">
	  <a class="closebtn">&times;</a>
	  <svg version="1.1" class="stadium" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
	  viewBox="0 0 1920 1080" style="enable-background:new 0 0 1920 1080;" xml:space="preserve">
		<path class="st0" d="M1120.6,443.3c-14.6-11.7-31.3-19.8-49.4-24.1c-10.4-2.5-20.8-3.6-31.4-4c-7.9-0.3-15.8-0.2-23.7-0.2
		c-37.4,0-74.8,0-112.2,0c-7.9,0-15.8-0.1-23.7,0.2c-10.7,0.3-21.1,1.5-31.5,4c-18.2,4.4-34.8,12.5-49.4,24.2
		C770.1,466.9,753,502.4,753,540c0,37.6,17.1,73.1,46.4,96.7c14.6,11.7,31.3,19.8,49.4,24.2c10.4,2.5,20.8,3.6,31.4,4
		c7.9,0.3,15.8,0.2,23.7,0.2c37.4,0,74.8,0,112.2,0c7.9,0,15.8,0.1,23.7-0.2c10.7-0.3,21.1-1.5,31.5-4c18.2-4.4,34.8-12.5,49.4-24.2
		c29.3-23.5,46.4-59.1,46.4-96.7C1167,502.4,1149.9,466.9,1120.6,443.3z M1065.8,573.6c-5.5,3.8-11.7,6.3-18.2,7.3
		c-6.6,1.1-13.1,1-19.7,1c-45.3,0-90.5,0-135.8,0c-6.6,0-13.1,0-19.7-1c-6.6-1.1-12.7-3.5-18.2-7.3c-11.1-7.6-17.7-20.2-17.7-33.7
		c0-13.5,6.7-26,17.7-33.6c5.5-3.8,11.7-6.3,18.2-7.3c6.6-1.1,13.1-1,19.7-1c45.3,0,90.5,0,135.8,0c6.6,0,13.1,0,19.7,1
		c6.6,1.1,12.7,3.5,18.2,7.3c11.1,7.6,17.7,20.2,17.7,33.7C1083.6,553.5,1076.9,566,1065.8,573.6z"/>
	  </svg>
	  <div class="spinner"></div>
	  <div class="helptext"><a>Click here to close forever</a></div>
	</div>
  </div><footer class="site-footer h-card">
  <data class="u-url" href="/"></data>

  <div class="wrapper">

    <h2 class="footer-heading">CS 418 Interactive Computer Graphics</h2>

    <div class="footer-col-wrapper">
      <div class="footer-col footer-col-1">
        
        
        <p><a href="https://github.com/illinois-cs418/illinois-cs418.github.io/issues/new">Report an issue</a></p>
        
      </div>

      <div class="footer-col footer-col-2"><ul class="social-media-list"><li><a href="https://github.com/shaffer1"><svg class="svg-icon"><use xlink:href="/assets/minima-social-icons.svg#github"></use></svg> <span class="username">shaffer1</span></a></li></ul>
</div>

      <div class="footer-col footer-col-3">
        <p>© University of Illinois, 2019</p>
      </div>
    </div>

  </div>

</footer>
<!-- local scripts -->
    <script src="/assets/customer-scripts.js" type="text/javascript"></script>
    <script src="/assets/szn.js" type= "text/javascript"></script>

    <!-- anchors -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/anchor-js/4.1.1/anchor.js"></script>

    <!-- collapsible sections -->

<script src="/assets/collapse-sections.js" type="text/javascript"></script>
	
	<script type="text/javascript">
	// FIXME make it work if `sections` is an object and not an array 
	
		
			sections('.mp-content', false);
		
	
	</script>

<!-- inline scripts -->
    <script>anchors.add()</script>
    
  </body>

</html>
